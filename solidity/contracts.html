<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contracts &mdash; Solidity 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Solidity 0.2.0 documentation" href="index.html" />
    <link rel="up" title="Solidity in Depth" href="solidity-in-depth.html" />
    <link rel="next" title="Miscellaneous" href="miscellaneous.html" />
    <link rel="prev" title="Expressions and Control Structures" href="control-structures.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="miscellaneous.html" title="Miscellaneous"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="control-structures.html" title="Expressions and Control Structures"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Solidity 0.2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="solidity-in-depth.html" accesskey="U">Solidity in Depth</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contracts">
<span id="index-0"></span><h1>Contracts<a class="headerlink" href="#contracts" title="Permalink to this headline">¶</a></h1>
<p>Contracts in Solidity what classes are in object oriented languages.
They persistent data in state variables and functions that can modify these variables.
Calling a function on a different contract (instance) will perform an EVM
function call and thus switch the context such that state variables are
inaccessible.</p>
<div class="section" id="creating-contracts">
<span id="index-1"></span><h2>Creating Contracts<a class="headerlink" href="#creating-contracts" title="Permalink to this headline">¶</a></h2>
<p>Contracts can be created &#8220;from outside&#8221; or from Solidity contracts.
When a contract is created, its constructor (a function with the same
name as the contract) is executed once.</p>
<p>From <cite>web3.js</cite>, i.e. the JavaScript
API, this is done as follows:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="c1">// The json abi array generated by the compiler</span>
<span class="kd">var</span> <span class="nx">abiArray</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;inputs&quot;</span><span class="o">:</span><span class="p">[</span>
      <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;uint256&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;uint256&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;constructor&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;constant&quot;</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;inputs&quot;</span><span class="o">:</span><span class="p">[],</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outputs&quot;</span><span class="o">:</span><span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;bytes32&quot;</span><span class="p">}],</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;function&quot;</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">MyContract</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="kd">contract</span><span class="p">(</span><span class="nx">abiArray</span><span class="p">);</span>
<span class="c1">// deploy new contract</span>
<span class="kd">var</span> <span class="nx">contractInstance</span> <span class="o">=</span> <span class="nx">MyContract</span><span class="p">.</span><span class="k">new</span><span class="p">(</span>
  <span class="mi">10</span><span class="p">,</span>
  <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="nx">myAccount</span><span class="p">,</span> <span class="nx">gas</span><span class="o">:</span> <span class="mi">1000000</span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
<p id="index-2">Internally, constructor arguments are passed after the code of
the contract itself, but you do not have to care about this
if you use <cite>web3.js</cite>.</p>
<p>If a contract wants to create another contract, the source code
(and the binary) of the created contract has to be known to the creator.
This means that cyclic creation dependencies are impossible.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">OwnedToken</span> <span class="p">{</span>
  <span class="c1">// TokenCreator is a contract type that is defined below.</span>
  <span class="c1">// It is fine to reference it as long as it is not used</span>
  <span class="c1">// to create a new contract.</span>
  <span class="nx">TokenCreator</span> <span class="nx">creator</span><span class="p">;</span>
  <span class="kt">address</span> <span class="nx">owner</span><span class="p">;</span>
  <span class="kt">bytes32</span> <span class="nx">name</span><span class="p">;</span>
  <span class="c1">// This is the constructor which registers the</span>
  <span class="c1">// creator and the assigned name.</span>
  <span class="kd">function</span> <span class="nx">OwnedToken</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">_name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">owner</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span>
    <span class="c1">// We do an explicit type conversion from `address`</span>
    <span class="c1">// to `TokenCreator` and assume that the type of</span>
    <span class="c1">// the calling contract is TokenCreator, there is</span>
    <span class="c1">// no real way to check that.</span>
    <span class="nx">creator</span> <span class="o">=</span> <span class="nx">TokenCreator</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">);</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="nx">_name</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">changeName</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">newName</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Only the creator can alter the name --</span>
    <span class="c1">// the comparison is possible since contracts</span>
    <span class="c1">// are implicitly convertible to addresses.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">creator</span><span class="p">)</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">newName</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">transfer</span><span class="p">(</span><span class="kt">address</span> <span class="nx">newOwner</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Only the current owner can transfer the token.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">!=</span> <span class="nx">owner</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="c1">// We also want to ask the creator if the transfer</span>
    <span class="c1">// is fine. Note that this calls a function of the</span>
    <span class="c1">// contract defined below. If the call fails (e.g.</span>
    <span class="c1">// due to out-of-gas), the execution here stops</span>
    <span class="c1">// immediately.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">creator</span><span class="p">.</span><span class="nx">isTokenTransferOK</span><span class="p">(</span><span class="nx">owner</span><span class="p">,</span> <span class="nx">newOwner</span><span class="p">))</span>
      <span class="nx">owner</span> <span class="o">=</span> <span class="nx">newOwner</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">contract</span> <span class="nx">TokenCreator</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">createToken</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">name</span><span class="p">)</span>
       <span class="k">returns</span> <span class="p">(</span><span class="nx">OwnedToken</span> <span class="nx">tokenAddress</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// Create a new Token contract and return its address.</span>
    <span class="c1">// From the JavaScript side, the return type is simply</span>
    <span class="c1">// &quot;address&quot;, as this is the closest type available in</span>
    <span class="c1">// the ABI.</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">OwnedToken</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">changeName</span><span class="p">(</span><span class="nx">OwnedToken</span> <span class="nx">tokenAddress</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Again, the external type of &quot;tokenAddress&quot; is</span>
    <span class="c1">// simply &quot;address&quot;.</span>
    <span class="nx">tokenAddress</span><span class="p">.</span><span class="nx">changeName</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">isTokenTransferOK</span><span class="p">(</span>
      <span class="kt">address</span> <span class="nx">currentOwner</span><span class="p">,</span>
      <span class="kt">address</span> <span class="nx">newOwner</span>
  <span class="p">)</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span> <span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Check some arbitrary condition.</span>
    <span class="kt">address</span> <span class="nx">tokenAddress</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">sha3</span><span class="p">(</span><span class="nx">newOwner</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="kt">bytes20</span><span class="p">(</span><span class="nx">tokenAddress</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="visibility-and-accessors">
<span id="index-3"></span><span id="id1"></span><h2>Visibility and Accessors<a class="headerlink" href="#visibility-and-accessors" title="Permalink to this headline">¶</a></h2>
<p>Since Solidity knows two kinds of function calls (internal
ones that do not create an actual EVM call (also called
a &#8220;message call&#8221;) and external
ones that do), there are four types of visibilities for
functions and state variables.</p>
<p>Functions can be specified as being <cite>external</cite>,
<cite>public</cite>, <cite>internal</cite> or <cite>private</cite>, where the default is
<cite>public</cite>. For state variables, <cite>external</cite> is not possible
and the default is <cite>internal</cite>.</p>
<dl class="docutils">
<dt><cite>external</cite>:</dt>
<dd>External functions are part of the contract
interface, which means they can be called from other contracts and
via transactions. An external function <cite>f</cite> cannot be called
internally (i.e. <cite>f()</cite> does not work, but <cite>this.f()</cite> works).
External functions are sometimes more efficient when
they receive large arrays of data.</dd>
<dt><cite>public</cite>:</dt>
<dd>Public functions are part of the contract
interface and can be either called internally or via
messages. For public state variables, an automatic accessor
function (see below) is generated.</dd>
<dt><cite>internal</cite>:</dt>
<dd>Those functions and state variables can only be
accessed internally (i.e. from within the current contract
or contracts deriving from it), without using <cite>this</cite>.</dd>
<dt><cite>private</cite>:</dt>
<dd>Private functions and state variables are only
visible for the contract they are defined in and not in
derived contracts.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Everything that is inside a contract is visible to
all external observers. Making something <cite>private</cite>
only prevents other contract from accessing and modifying
the information, but it will still be visible to the
whole world outside of the blockchain.</p>
</div>
<p>The visibility specifier is given after the type for
state variables and between parameter list and
return parameter list for functions.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">c</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">a</span><span class="p">)</span> <span class="k">private</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">setData</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">a</span><span class="p">)</span> <span class="k">internal</span> <span class="p">{</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span> <span class="p">}</span>
  <span class="kt">uint</span> <span class="k">public</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Other contracts can call <cite>c.data()</cite> to retrieve the value of
data in state storage, but are not able to call <cite>f</cite>.
Contracts derived from <cite>c</cite> can call <cite>setData</cite> to alter the
value of <cite>data</cite> (but only in their own state).</p>
<div class="section" id="accessor-functions">
<span id="index-4"></span><h3>Accessor Functions<a class="headerlink" href="#accessor-functions" title="Permalink to this headline">¶</a></h3>
<p>The compiler automatically creates accessor functions for
all public state variables. The contract given below will
have a function called <cite>data</cite> that does not take any
arguments and returns a uint, the value of the state
variable <cite>data</cite>. The initialization of state variables can
be done at declaration.</p>
<p>The accessor functions have external visibility. If the
symbol is accessed internally (i.e. without <cite>this.</cite>),
it is a state variable and if it is accessed externally
(i.e. with <cite>this.</cite>), it is a function.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">test</span> <span class="p">{</span>
     <span class="kt">uint</span> <span class="k">public</span> <span class="nx">data</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The next example is a bit more complex:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">complex</span> <span class="p">{</span>
  <span class="kd">struct</span> <span class="nx">Data</span> <span class="p">{</span> <span class="kt">uint</span> <span class="nx">a</span><span class="p">;</span> <span class="kt">bytes3</span> <span class="nx">b</span><span class="p">;</span> <span class="k">mapping</span><span class="p">(</span><span class="kt">uint</span> <span class="o">=&gt;</span> <span class="kt">uint</span><span class="p">)</span> <span class="nx">map</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">mapping</span><span class="p">(</span><span class="kt">uint</span> <span class="o">=&gt;</span> <span class="k">mapping</span><span class="p">(</span><span class="kt">bool</span> <span class="o">=&gt;</span> <span class="nx">Data</span><span class="p">[]))</span> <span class="k">public</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It will generate a function of the following form:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">data</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">arg1</span><span class="p">,</span> <span class="kt">bool</span> <span class="nx">arg2</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">arg3</span><span class="p">)</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint</span> <span class="nx">a</span><span class="p">,</span> <span class="kt">bytes3</span> <span class="nx">b</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">arg1</span><span class="p">][</span><span class="nx">arg2</span><span class="p">][</span><span class="nx">arg3</span><span class="p">].</span><span class="nx">a</span><span class="p">;</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">arg1</span><span class="p">][</span><span class="nx">arg2</span><span class="p">][</span><span class="nx">arg3</span><span class="p">].</span><span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the mapping in the struct is omitted because there
is no good way to provide the key for the mapping.</p>
</div>
</div>
<div class="section" id="function-modifiers">
<span id="modifiers"></span><span id="index-5"></span><h2>Function Modifiers<a class="headerlink" href="#function-modifiers" title="Permalink to this headline">¶</a></h2>
<p>Modifiers can be used to easily change the behaviour of functions, for example
to automatically check a condition prior to executing the function. They are
inheritable properties of contracts and may be overridden by derived contracts.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">owned</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">owned</span><span class="p">()</span> <span class="p">{</span> <span class="nx">owner</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span> <span class="p">}</span>
  <span class="kt">address</span> <span class="nx">owner</span><span class="p">;</span>

  <span class="c1">// This contract only defines a modifier but does not use</span>
  <span class="c1">// it - it will be used in derived contracts.</span>
  <span class="c1">// The function body is inserted where the special symbol</span>
  <span class="c1">// &quot;_&quot; in the definition of a modifier appears.</span>
  <span class="c1">// This means that if the owner calls this function, the</span>
  <span class="c1">// function is executed and otherwise, an exception is</span>
  <span class="c1">// thrown.</span>
  <span class="kd">modifier</span> <span class="nx">onlyowner</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">!=</span> <span class="nx">owner</span><span class="p">)</span> <span class="k">throw</span><span class="p">;</span> <span class="nx">_</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">mortal</span> <span class="nx">is</span> <span class="nx">owned</span> <span class="p">{</span>
  <span class="c1">// This contract inherits the &quot;onlyowner&quot;-modifier from</span>
  <span class="c1">// &quot;owned&quot; and applies it to the &quot;close&quot;-function, which</span>
  <span class="c1">// causes that calls to &quot;close&quot; only have an effect if</span>
  <span class="c1">// they are made by the stored owner.</span>
  <span class="kd">function</span> <span class="nx">close</span><span class="p">()</span> <span class="nx">onlyowner</span> <span class="p">{</span>
    <span class="nx">selfdestruct</span><span class="p">(</span><span class="nx">owner</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">priced</span> <span class="p">{</span>
  <span class="c1">// Modifiers can receive arguments:</span>
  <span class="kd">modifier</span> <span class="nx">costs</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">price</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">value</span> <span class="o">&gt;=</span> <span class="nx">price</span><span class="p">)</span> <span class="nx">_</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Register</span> <span class="nx">is</span> <span class="nx">priced</span><span class="p">,</span> <span class="nx">owned</span> <span class="p">{</span>
  <span class="k">mapping</span> <span class="p">(</span><span class="kt">address</span> <span class="o">=&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="nx">registeredAddresses</span><span class="p">;</span>
  <span class="kt">uint</span> <span class="nx">price</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">Register</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">initialPrice</span><span class="p">)</span> <span class="p">{</span> <span class="nx">price</span> <span class="o">=</span> <span class="nx">initialPrice</span><span class="p">;</span> <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">register</span><span class="p">()</span> <span class="nx">costs</span><span class="p">(</span><span class="nx">price</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">registeredAddresses</span><span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">changePrice</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">_price</span><span class="p">)</span> <span class="nx">onlyowner</span> <span class="p">{</span>
    <span class="nx">price</span> <span class="o">=</span> <span class="nx">_price</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Multiple modifiers can be applied to a function by specifying them in a
whitespace-separated list and will be evaluated in order. Explicit returns from
a modifier or function body immediately leave the whole function, while control
flow reaching the end of a function or modifier body continues after the &#8220;_&#8221; in
the preceding modifier. Arbitrary expressions are allowed for modifier
arguments and in this context, all symbols visible from the function are
visible in the modifier. Symbols introduced in the modifier are not visible in
the function (as they might change by overriding).</p>
</div>
<div class="section" id="constants">
<span id="index-6"></span><h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<p>State variables can be declared as constant (this is not yet implemented
for array and struct types and not possible for mapping types).</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="kt">uint</span> <span class="k">constant</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">32</span><span class="o">**</span><span class="mi">22</span> <span class="o">+</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kt">string</span> <span class="k">constant</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This has the effect that the compiler does not reserve a storage slot
for these variables and every occurrence is replaced by their constant value.</p>
<p>The value expression can only contain integer arithmetics.</p>
</div>
<div class="section" id="fallback-function">
<span id="index-7"></span><span id="id2"></span><h2>Fallback Function<a class="headerlink" href="#fallback-function" title="Permalink to this headline">¶</a></h2>
<p>A contract can have exactly one unnamed function. This function cannot have
arguments and is executed on a call to the contract if none of the other
functions matches the given function identifier (or if no data was supplied at
all).</p>
<p>Furthermore, this function is executed whenever the contract receives plain
Ether (witout data).  In such a context, there is very little gas available to
the function call, so it is important to make fallback functions as cheap as
possible.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">Test</span> <span class="p">{</span>
  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
  <span class="kt">uint</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// This contract rejects any Ether sent to it. It is good</span>
<span class="c1">// practise to include such a function for every contract</span>
<span class="c1">// in order not to loose Ether.</span>
<span class="kd">contract</span> <span class="nx">Rejector</span> <span class="p">{</span>
  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">throw</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">contract</span> <span class="nx">Caller</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">callTest</span><span class="p">(</span><span class="kt">address</span> <span class="nx">testAddress</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Test</span><span class="p">(</span><span class="nx">testAddress</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="mh">0xabcdef01</span><span class="p">);</span> <span class="c1">// hash does not exist</span>
    <span class="c1">// results in Test(testAddress).x becoming == 1.</span>
    <span class="nx">Rejector</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">Rejector</span><span class="p">(</span><span class="mh">0x123</span><span class="p">);</span>
    <span class="nx">r</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="mi">2</span> <span class="nx">ether</span><span class="p">);</span>
    <span class="c1">// results in r.balance == 0</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="events">
<span id="index-8"></span><h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>Events allow the convenient usage of the EVM logging facilities,
which in turn can be used to &#8220;call&#8221; JavaScript callbacks in the user interface
of a dapp, which listen for these events.</p>
<p>Events are
inheritable members of contracts. When they are called, they cause the
arguments to be stored in the transaction&#8217;s log - a special data structure
in the blockchain. These logs are associated with the address of
the contract and will be incorporated into the blockchain
and stay there as long as a block is accessible (forever as of
Frontier and Homestead, but this might change with Serenity). Log and
event data is not accessible from within contracts (not even from
the contract that created a log).</p>
<p>SPV proofs for logs are possible, so if an external entity supplies
a contract with such a proof, it can check that the log actually
exists inside the blockchain (but be aware of the fact that
ultimately, also the block headers have to be supplied because
the contract can only see the last 256 block hashes).</p>
<p>Up to three parameters can
receive the attribute <cite>indexed</cite> which will cause the respective arguments
to be searched for: It is possible to filter for specific values of
indexed arguments in the user interface.</p>
<p>If arrays (including <cite>string</cite> and <cite>bytes</cite>) are used as indexed arguments, the
sha3-hash of it is stored as topic instead.</p>
<p>The hash of the signature of the event is one of the topics except if you
declared the event with <cite>anonymous</cite> specifier. This means that it is
not possible to filter for specific anonymous events by name.</p>
<p>All non-indexed arguments will be stored in the data part of the log.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">ClientReceipt</span> <span class="p">{</span>
  <span class="kd">event</span> <span class="nx">Deposit</span><span class="p">(</span>
    <span class="kt">address</span> <span class="nx">indexed</span> <span class="nx">_from</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="nx">indexed</span> <span class="nx">_id</span><span class="p">,</span>
    <span class="kt">uint</span> <span class="nx">_value</span>
  <span class="p">);</span>
  <span class="kd">function</span> <span class="nx">deposit</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">_id</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Any call to this function (even deeply nested) can</span>
    <span class="c1">// be detected from the JavaScript API by filtering</span>
    <span class="c1">// for `Deposit` to be called.</span>
    <span class="nx">Deposit</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span> <span class="nx">_id</span><span class="p">,</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The use in the JavaScript API would be as follows:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">abi</span> <span class="o">=</span> <span class="cm">/* abi as generated by the compiler */</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ClientReceipt</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="kd">contract</span><span class="p">(</span><span class="nx">abi</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">clientReceipt</span> <span class="o">=</span> <span class="nx">ClientReceipt</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mh">0x123</span> <span class="cm">/* address */</span><span class="p">);</span>

<span class="kd">var</span> <span class="kd">event</span> <span class="o">=</span> <span class="nx">clientReceipt</span><span class="p">.</span><span class="nx">Deposit</span><span class="p">();</span>

<span class="c1">// watch for changes</span>
<span class="kd">event</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">){</span>
  <span class="c1">// result will contain various information</span>
  <span class="c1">// including the argumets given to the Deposit</span>
  <span class="c1">// call.</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Or pass a callback to start watching immediately</span>
<span class="kd">var</span> <span class="kd">event</span> <span class="o">=</span> <span class="nx">clientReceipt</span><span class="p">.</span><span class="nx">Deposit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="section" id="low-level-interface-to-logs">
<span id="index-9"></span><h3>Low-Level Interface to Logs<a class="headerlink" href="#low-level-interface-to-logs" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to access the low-level interface to the logging
mechanism via the functions <cite>log0</cite>, <cite>log1</cite>, <cite>log2</cite>, <cite>log3</cite> and <cite>log4</cite>.
<cite>logi</cite> takes <cite>i + 1</cite> parameter of type <cite>bytes32</cite>, where the first
argument will be used for the data part of the log and the others
as topics. The event call above can be performed in the same way as</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="nx">log3</span><span class="p">(</span>
  <span class="nx">msg</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
  <span class="mh">0x50cb9fe53daa9737b786ab3646f04d0150dc50ef4e75f59509d83667ad5adb20</span><span class="p">,</span>
  <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span>
  <span class="nx">_id</span>
<span class="p">);</span>
</pre></div>
</div>
<p>where the long hexadecimal number is equal to
<cite>sha3(&#8220;Deposit(address,hash256,uint256)&#8221;)</cite>, the signature of the event.</p>
</div>
<div class="section" id="additional-resources-for-understanding-events">
<h3>Additional Resources for Understanding Events<a class="headerlink" href="#additional-resources-for-understanding-events" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/ethereum/wiki/wiki/JavaScript-API#contract-events">Javascript documentation</a></li>
<li><a class="reference external" href="https://github.com/debris/smart-exchange/blob/master/lib/contracts/SmartExchange.sol">Example usage of events</a></li>
<li><a class="reference external" href="https://github.com/debris/smart-exchange/blob/master/lib/exchange_transactions.js">How to access them in js</a></li>
</ul>
</div>
</div>
<div class="section" id="inheritance">
<span id="index-10"></span><h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<p>Solidity supports multiple inheritance by copying code including polymorphism.</p>
<p>All function calls are virtual, which means that the most derived function
is called, except when the contract is explicitly given.</p>
<p>Even if a contract inherits from multiple other contracts, only a single
contract is created on the blockchain, the code from the base contracts
is always copied into the final contract.</p>
<p>The general inheritance system is very similar to
<a class="reference external" href="https://docs.python.org/3/tutorial/classes.html#inheritance">Python&#8217;s</a>,
especially concerning multiple inheritance.</p>
<p>Details are given in the following example.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">owned</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">owned</span><span class="p">()</span> <span class="p">{</span> <span class="nx">owner</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">address</span> <span class="nx">owner</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Use &quot;is&quot; to derive from another contract. Derived</span>
<span class="c1">// contracts can access all non-private members including</span>
<span class="c1">// internal functions and state variables. These cannot be</span>
<span class="c1">// accessed externally via `this`, though.</span>
<span class="kd">contract</span> <span class="nx">mortal</span> <span class="nx">is</span> <span class="nx">owned</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="nx">selfdestruct</span><span class="p">(</span><span class="nx">owner</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// These abstract contracts are only provided to make the</span>
<span class="c1">// interface known to the compiler. Note the function</span>
<span class="c1">// without body. If a contract does not implement all</span>
<span class="c1">// functions it can only be used as an interface.</span>
<span class="kd">contract</span> <span class="nx">Config</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">lookup</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">id</span><span class="p">)</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span> <span class="nx">adr</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">NameReg</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">register</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">name</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">unregister</span><span class="p">();</span>
 <span class="p">}</span>

<span class="c1">// Multiple inheritance is possible. Note that &quot;owned&quot; is</span>
<span class="c1">// also a base class of &quot;mortal&quot;, yet there is only a single</span>
<span class="c1">// instance of &quot;owned&quot; (as for virtual inheritance in C++).</span>
<span class="kd">contract</span> <span class="nx">named</span> <span class="nx">is</span> <span class="nx">owned</span><span class="p">,</span> <span class="nx">mortal</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">named</span><span class="p">(</span><span class="kt">bytes32</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Config</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">Config</span><span class="p">(</span><span class="mh">0xd5f9d8d94886e70b06e474c3fb14fd43e2f23970</span><span class="p">);</span>
        <span class="nx">NameReg</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">lookup</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span><span class="nx">register</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Functions can be overridden, both local and</span>
    <span class="c1">// message-based function calls take these overrides</span>
    <span class="c1">// into account.</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">Config</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">Config</span><span class="p">(</span><span class="mh">0xd5f9d8d94886e70b06e474c3fb14fd43e2f23970</span><span class="p">);</span>
            <span class="nx">NameReg</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">lookup</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span><span class="nx">unregister</span><span class="p">();</span>
            <span class="c1">// It is still possible to call a specific</span>
            <span class="c1">// overridden function.</span>
            <span class="nx">mortal</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// If a constructor takes an argument, it needs to be</span>
<span class="c1">// provided in the header (or modifier-invocation-style at</span>
<span class="c1">// the constructor of the derived contract (see below)).</span>
<span class="kd">contract</span> <span class="nx">PriceFeed</span> <span class="nx">is</span> <span class="nx">owned</span><span class="p">,</span> <span class="nx">mortal</span><span class="p">,</span> <span class="nx">named</span><span class="p">(</span><span class="s2">&quot;GoldFeed&quot;</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">function</span> <span class="nx">updateInfo</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">newInfo</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">newInfo</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kd">function</span> <span class="nx">get</span><span class="p">()</span> <span class="k">constant</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">info</span><span class="p">;</span> <span class="p">}</span>

   <span class="kt">uint</span> <span class="nx">info</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that above, we call <cite>mortal.kill()</cite> to &#8220;forward&#8221; the
destruction request. The way this is done is problematic, as
seen in the following example:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">mortal</span> <span class="nx">is</span> <span class="nx">owned</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="nx">selfdestruct</span><span class="p">(</span><span class="nx">owner</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Base1</span> <span class="nx">is</span> <span class="nx">mortal</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* do cleanup 1 */</span> <span class="nx">mortal</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Base2</span> <span class="nx">is</span> <span class="nx">mortal</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* do cleanup 2 */</span> <span class="nx">mortal</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Final</span> <span class="nx">is</span> <span class="nx">Base1</span><span class="p">,</span> <span class="nx">Base2</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A call to <cite>Final.kill()</cite> will call <cite>Base2.kill</cite> as the most
derived override, but this function will bypass
<cite>Base1.kill</cite>, basically because it does not even know about
<cite>Base1</cite>.  The way around this is to use <cite>super</cite>:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">mortal</span> <span class="nx">is</span> <span class="nx">owned</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="nx">selfdestruct</span><span class="p">(</span><span class="nx">owner</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Base1</span> <span class="nx">is</span> <span class="nx">mortal</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* do cleanup 1 */</span> <span class="kr">super</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Base2</span> <span class="nx">is</span> <span class="nx">mortal</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">kill</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* do cleanup 2 */</span> <span class="kr">super</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Final</span> <span class="nx">is</span> <span class="nx">Base2</span><span class="p">,</span> <span class="nx">Base1</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If <cite>Base1</cite> calls a function of <cite>super</cite>, it does not simply
call this function on one of its base contracts, it rather
calls this function on the next base contract in the final
inheritance graph, so it will call <cite>Base2.kill()</cite> (note that
the final inheritance sequence is &#8211; starting with the most
derived contract: Final, Base1, Base2, mortal, owned).
The actual function that is called when using super is
not known in the context of the class where it is used,
although its type is known. This is similar for ordinary
virtual method lookup.</p>
<div class="section" id="arguments-for-base-constructors">
<span id="index-11"></span><h3>Arguments for Base Constructors<a class="headerlink" href="#arguments-for-base-constructors" title="Permalink to this headline">¶</a></h3>
<p>Derived contracts need to provide all arguments needed for
the base constructors. This can be done at two places:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">Base</span> <span class="p">{</span>
  <span class="kt">uint</span> <span class="nx">x</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">Base</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">_x</span><span class="p">)</span> <span class="p">{</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">_x</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">Derived</span> <span class="nx">is</span> <span class="nx">Base</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">Derived</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">_y</span><span class="p">)</span> <span class="nx">Base</span><span class="p">(</span><span class="nx">_y</span> <span class="o">*</span> <span class="nx">_y</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Either directly in the inheritance list (<cite>is Base(7)</cite>) or in
the way a modifier would be invoked as part of the header of
the derived constructor (<cite>Base(_y * _y)</cite>). The first way to
do it is more convenient if the constructor argument is a
constant and defines the behaviour of the contract or
describes it. The second way has to be used if the
constructor arguments of the base depend on those of the
derived contract. If, as in this silly example, both places
are used, the modifier-style argument takes precedence.</p>
</div>
<div class="section" id="multiple-inheritance-and-linearization">
<span id="index-12"></span><h3>Multiple Inheritance and Linearization<a class="headerlink" href="#multiple-inheritance-and-linearization" title="Permalink to this headline">¶</a></h3>
<p>Languages that allow multiple inheritance have to deal with
several problems, one of them being the <a class="reference external" href="https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem">Diamond Problem</a>.
Solidity follows the path of Python and uses &#8220;<a class="reference external" href="https://en.wikipedia.org/wiki/C3_linearization">C3 Linearization</a>&#8221;
to force a specific order in the DAG of base classes. This
results in the desirable property of monotonicity but
disallows some inheritance graphs. Especially, the order in
which the base classes are given in the <cite>is</cite> directive is
important. In the following code, Solidity will give the
error &#8220;Linearization of inheritance graph impossible&#8221;.</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">X</span> <span class="p">{}</span>
<span class="kd">contract</span> <span class="nx">A</span> <span class="nx">is</span> <span class="nx">X</span> <span class="p">{}</span>
<span class="kd">contract</span> <span class="nx">C</span> <span class="nx">is</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">X</span> <span class="p">{}</span>
</pre></div>
</div>
<p>The reason for this is that <cite>C</cite> requests <cite>X</cite> to override <cite>A</cite>
(by specifying <cite>A, X</cite> in this order), but <cite>A</cite> itself
requests to override <cite>X</cite>, which is a contradiction that
cannot be resolved.</p>
<p>A simple rule to remember is to specify the base classes in
the order from &#8220;most base-like&#8221; to &#8220;most derived&#8221;.</p>
</div>
</div>
<div class="section" id="abstract-contracts">
<span id="index-13"></span><h2>Abstract Contracts<a class="headerlink" href="#abstract-contracts" title="Permalink to this headline">¶</a></h2>
<p>Contract functions can lack an implementation as in the following example (note that the function declaration header is terminated by <cite>;</cite>):</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">feline</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">utterance</span><span class="p">()</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bytes32</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Such contracts cannot be compiled (even if they contain implemented functions alongside non-implemented functions), but they can be used as base contracts:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">contract</span> <span class="nx">Cat</span> <span class="nx">is</span> <span class="nx">feline</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">utterance</span><span class="p">()</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">&quot;miaow&quot;</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a contract inherits from an abstract contract and does not implement all non-implemented functions by overriding, it will itself be abstract.</p>
</div>
<div class="section" id="libraries">
<span id="index-14"></span><span id="id3"></span><h2>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h2>
<p>Libraries are similar to contracts, but their purpose is that they are deployed
only once at a specific address and their code is reused using the <cite>CALLCODE</cite>
feature of the EVM. This means that if library functions are called, their code
is executed in the context of the calling contract, i.e. <cite>this</cite> points to the
calling contract and especially the storage from the calling contract can be
accessed. As a library is an isolated piece of source code, it can only access
state variables of the calling contract if they are explicitly supplied (it
would have to way to name them, otherwise).</p>
<p id="index-15">The following example illustrates how to use libraries (but
be sure to check out <a class="reference internal" href="#using-for"><span>using for</span></a> for a
more advanced example to implement a set).</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="nx">library</span> <span class="nx">Set</span> <span class="p">{</span>
  <span class="c1">// We define a new struct datatype that will be used to</span>
  <span class="c1">// hold its data in the calling contract.</span>
  <span class="kd">struct</span> <span class="nx">Data</span> <span class="p">{</span> <span class="k">mapping</span><span class="p">(</span><span class="kt">uint</span> <span class="o">=&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="nx">flags</span><span class="p">;</span> <span class="p">}</span>
  <span class="c1">// Note that the first parameter is of type &quot;storage</span>
  <span class="c1">// reference&quot; and thus only its storage address and not</span>
  <span class="c1">// its contents is passed as part of the call.  This is a</span>
  <span class="c1">// special feature of library functions.  It is idiomatic</span>
  <span class="c1">// to call the first parameter &#39;self&#39;, if the function can</span>
  <span class="c1">// be seen as a method of that object.</span>
  <span class="kd">function</span> <span class="nx">insert</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
      <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">])</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// already there</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">remove</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">])</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// not there</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">contains</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">contract</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">Set</span><span class="p">.</span><span class="nx">Data</span> <span class="nx">knownValues</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">register</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The library functions can be called without a</span>
    <span class="c1">// specific instance of the library, since the</span>
    <span class="c1">// &quot;instance&quot; will be the current contract.</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">Set</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="nx">knownValues</span><span class="p">,</span> <span class="nx">value</span><span class="p">))</span>
      <span class="k">throw</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// In this contract, we can also directly access knownValues.flags, if we want.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, you do not have to follow this way to use
libraries - they can also be used without defining struct
data types, functions also work without any storage
reference parameters, can have multiple storage reference
parameters and in any position.</p>
<p>The calls to <cite>Set.contains</cite>, <cite>Set.insert</cite> and <cite>Set.remove</cite>
are all compiled as calls (<cite>CALLCODE`s) to an external
contract/library. If you use libraries, take care that an
actual external function call is performed, so `msg.sender</cite>
does not point to the original sender anymore but to the the
calling contract and also <cite>msg.value</cite> contains the funds
sent during the call to the library function.</p>
<p>As the compiler cannot know where the library will be
deployed at, these addresses have to be filled into the
final bytecode by a linker (see [Using the Commandline
Compiler](#using-the-commandline-compiler) on how to use the
commandline compiler for linking). If the addresses are not
given as arguments to the compiler, the compiled hex code
will contain placeholders of the form <cite>__Set______</cite> (where
<cite>Set</cite> is the name of the library). The address can be filled
manually by replacing all those 40 symbols by the hex
encoding of the address of the library contract.</p>
<p>Restrictions for libraries in comparison to contracts:</p>
<blockquote>
<div><ul class="simple">
<li>no state variables</li>
<li>cannot inherit nor be inherited</li>
</ul>
</div></blockquote>
<p>(these might be lifted at a later point)</p>
<div class="section" id="common-pitfalls-for-libraries">
<h3>Common pitfalls for libraries<a class="headerlink" href="#common-pitfalls-for-libraries" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-value-of-msg-sender">
<span id="index-16"></span><h4>The value of <cite>msg.sender</cite><a class="headerlink" href="#the-value-of-msg-sender" title="Permalink to this headline">¶</a></h4>
<p>The value for <cite>msg.sender</cite> will be that of the contract which is calling the library function.</p>
<p>For example, if A calls contract B which internally calls library C, then within the function call of library C, <cite>msg.sender</cite> will be the address of contract B.</p>
<p>The reason for this is that the expression <cite>LibraryName.functionName()</cite>
performs an external function call using <cite>CALLCODE</cite>, which maps to a real EVM
call just like <cite>otherContract.functionName()</cite> or <cite>this.functionName()</cite>.  This
call extends the call depth by one (limited to 1024), stores the caller (the
current contract) as <cite>msg.sender</cite>, and then executes the library contract&#8217;s
code against the current contracts storage.  This execution occurs in a
completely new memory context meaning that memory types will be copied and
cannot be passed by reference.</p>
</div>
<div class="section" id="transferring-ether">
<h4>Transferring Ether<a class="headerlink" href="#transferring-ether" title="Permalink to this headline">¶</a></h4>
<p>It is <em>in principle</em> possible to transfer ether using
<cite>LibraryName.functionName.value(x)()</cite>, but as <cite>CALLCODE</cite> is used, the Ether
will just end up at the current contract.</p>
</div>
</div>
</div>
<div class="section" id="using-for">
<span id="index-17"></span><span id="id4"></span><h2>Using For<a class="headerlink" href="#using-for" title="Permalink to this headline">¶</a></h2>
<p>The directive <cite>using A for B;</cite> can be used to attach library
functions (from the library <cite>A</cite>) to any type (<cite>B</cite>).
These functions will receive the object they are called on
as their first parameter (like the <cite>self</cite> variable in
Python).</p>
<p>The effect of <cite>using A for *;</cite> is that the functions from
the library <cite>A</cite> are attached to any type.</p>
<p>In both situations, all functions, even those where the
type of the first parameter does not match the type of
the object, are attached. The type is checked at the
point the function is called and function overload
resolution is performed.</p>
<p>The <cite>using A for B;</cite> directive is active for the current
scope, which is limited to a contract for now but will
be lifted to the global scope later, so that by including
a module, its data types including library functions are
available without having to add further code.</p>
<p>Let us rewrite the set example from the
<a class="reference internal" href="#libraries"><span>Libraries</span></a> in this way:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="c1">// This is the same code as before, just without comments</span>
<span class="nx">library</span> <span class="nx">Set</span> <span class="p">{</span>
  <span class="kd">struct</span> <span class="nx">Data</span> <span class="p">{</span> <span class="k">mapping</span><span class="p">(</span><span class="kt">uint</span> <span class="o">=&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="nx">flags</span><span class="p">;</span> <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">insert</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
      <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">])</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// already there</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">remove</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">])</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// not there</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">contains</span><span class="p">(</span><span class="nx">Data</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">flags</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">contract</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">using</span> <span class="nx">Set</span> <span class="k">for</span> <span class="nx">Set</span><span class="p">.</span><span class="nx">Data</span><span class="p">;</span> <span class="c1">// this is the crucial change</span>
  <span class="nx">Set</span><span class="p">.</span><span class="nx">Data</span> <span class="nx">knownValues</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">register</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Here, all variables of type Set.Data have</span>
    <span class="c1">// corresponding member functions.</span>
    <span class="c1">// The following function call is identical to</span>
    <span class="c1">// Set.insert(knownValues, value)</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">knownValues</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span>
      <span class="k">throw</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is also possible to extend elementary types in that way:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="nx">library</span> <span class="nx">Search</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">indexOf</span><span class="p">(</span><span class="kt">uint</span><span class="p">[]</span> <span class="k">storage</span> <span class="nx">self</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">uint</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">self</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="nx">value</span><span class="p">)</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
    <span class="k">return</span> <span class="kt">uint</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">contract</span> <span class="nx">C</span> <span class="p">{</span>
  <span class="nx">using</span> <span class="nx">Search</span> <span class="k">for</span> <span class="kt">uint</span><span class="p">[];</span>
  <span class="kt">uint</span><span class="p">[]</span> <span class="nx">data</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">append</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">replace</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">_old</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">_new</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// This performs the library function call</span>
    <span class="kt">uint</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">_old</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
      <span class="nx">data</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">_new</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="nx">data</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">=</span> <span class="nx">_new</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that all library calls are actual EVM function calls. This means that
if you pass memory or value types, a copy will be performed, even of the
<cite>self</cite> variable. The only situation where no copy will be performed
is when storage reference variables are used.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contracts</a><ul>
<li><a class="reference internal" href="#creating-contracts">Creating Contracts</a></li>
<li><a class="reference internal" href="#visibility-and-accessors">Visibility and Accessors</a><ul>
<li><a class="reference internal" href="#accessor-functions">Accessor Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-modifiers">Function Modifiers</a></li>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#fallback-function">Fallback Function</a></li>
<li><a class="reference internal" href="#events">Events</a><ul>
<li><a class="reference internal" href="#low-level-interface-to-logs">Low-Level Interface to Logs</a></li>
<li><a class="reference internal" href="#additional-resources-for-understanding-events">Additional Resources for Understanding Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inheritance">Inheritance</a><ul>
<li><a class="reference internal" href="#arguments-for-base-constructors">Arguments for Base Constructors</a></li>
<li><a class="reference internal" href="#multiple-inheritance-and-linearization">Multiple Inheritance and Linearization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#abstract-contracts">Abstract Contracts</a></li>
<li><a class="reference internal" href="#libraries">Libraries</a><ul>
<li><a class="reference internal" href="#common-pitfalls-for-libraries">Common pitfalls for libraries</a><ul>
<li><a class="reference internal" href="#the-value-of-msg-sender">The value of <cite>msg.sender</cite></a></li>
<li><a class="reference internal" href="#transferring-ether">Transferring Ether</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#using-for">Using For</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="control-structures.html"
                        title="previous chapter">Expressions and Control Structures</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="miscellaneous.html"
                        title="next chapter">Miscellaneous</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/contracts.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="miscellaneous.html" title="Miscellaneous"
             >next</a> |</li>
        <li class="right" >
          <a href="control-structures.html" title="Expressions and Control Structures"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Solidity 0.2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="solidity-in-depth.html" >Solidity in Depth</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Ethereum.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>