<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Units and Globally Available Variables &mdash; Solidity 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Solidity 0.2.0 documentation" href="index.html" />
    <link rel="up" title="Solidity in Depth" href="solidity-in-depth.html" />
    <link rel="next" title="Expressions and Control Structures" href="control-structures.html" />
    <link rel="prev" title="Types" href="types.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="control-structures.html" title="Expressions and Control Structures"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="types.html" title="Types"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Solidity 0.2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="solidity-in-depth.html" accesskey="U">Solidity in Depth</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="units-and-globally-available-variables">
<h1>Units and Globally Available Variables<a class="headerlink" href="#units-and-globally-available-variables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="ether-units">
<span id="index-0"></span><h2>Ether Units<a class="headerlink" href="#ether-units" title="Permalink to this headline">¶</a></h2>
<p>A literal number can take a suffix of <cite>wei</cite>, <cite>finney</cite>, <cite>szabo</cite> or <cite>ether</cite> to convert between the subdenominations of Ether, where Ether currency numbers without a postfix are assumed to be &#8220;wei&#8221;, e.g. <cite>2 ether == 2000 finney</cite> evaluates to <cite>true</cite>.</p>
</div>
<div class="section" id="time-units">
<span id="index-1"></span><h2>Time Units<a class="headerlink" href="#time-units" title="Permalink to this headline">¶</a></h2>
<p>Suffixes of <cite>seconds</cite>, <cite>minutes</cite>, <cite>hours</cite>, <cite>days</cite>, <cite>weeks</cite> and
<cite>years</cite> after literal numbers can be used to convert between units of time where seconds are the base
unit and units are considered naively in the following way:</p>
<blockquote>
<div><ul class="simple">
<li><cite>1 == 1 second</cite></li>
<li><cite>1 minutes == 60 seconds</cite></li>
<li><cite>1 hours == 60 minutes</cite></li>
<li><cite>1 days == 24 hours</cite></li>
<li><cite>1 weeks = 7 days</cite></li>
<li><cite>1 years = 365 days</cite></li>
</ul>
</div></blockquote>
<p>Take care if you perform calendar calculations using these units, because
not every year equals 365 days and not even every day has 24 hours
because of <a class="reference external" href="https://en.wikipedia.org/wiki/Leap_second">leap seconds</a>.
Due to the fact that leap seconds cannot be predicted, an exact calendar
library has to be updated by an external oracle.</p>
<p>These suffixes cannot be applied to variables. If you want to
interpret some input variable in e.g. days, you can do it in the following way:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="kt">uint</span> <span class="nx">start</span><span class="p">,</span> <span class="kt">uint</span> <span class="nx">daysAfter</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">now</span> <span class="o">&gt;=</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">daysAfter</span> <span class="o">*</span> <span class="mi">1</span> <span class="nx">days</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="special-variables-and-functions">
<h2>Special Variables and Functions<a class="headerlink" href="#special-variables-and-functions" title="Permalink to this headline">¶</a></h2>
<p>There are special variables and functions which always exist in the global
namespace and are mainly used to provide information about the blockchain.</p>
<div class="section" id="block-and-transaction-properties">
<span id="index-2"></span><h3>Block and Transaction Properties<a class="headerlink" href="#block-and-transaction-properties" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><cite>block.coinbase</cite> (<cite>address</cite>): current block miner&#8217;s address</li>
<li><cite>block.difficulty</cite> (<cite>uint</cite>): current block difficulty</li>
<li><cite>block.gaslimit</cite> (<cite>uint</cite>): current block gaslimit</li>
<li><cite>block.number</cite> (<cite>uint</cite>): current block number</li>
<li><cite>block.blockhash</cite> (<cite>function(uint) returns (bytes32)</cite>): hash of the given block - only for 256 most recent blocks</li>
<li><cite>block.timestamp</cite> (<cite>uint</cite>): current block timestamp</li>
<li><cite>msg.data</cite> (<cite>bytes</cite>): complete calldata</li>
<li><cite>msg.gas</cite> (<cite>uint</cite>): remaining gas</li>
<li><cite>msg.sender</cite> (<cite>address</cite>): sender of the message (current call)</li>
<li><cite>msg.sig</cite> (<cite>bytes4</cite>): first four bytes of the calldata (i.e. function identifier)</li>
<li><cite>msg.value</cite> (<cite>uint</cite>): number of wei sent with the message</li>
<li><cite>now</cite> (<cite>uint</cite>): current block timestamp (alias for <cite>block.timestamp</cite>)</li>
<li><cite>tx.gasprice</cite> (<cite>uint</cite>): gas price of the transaction</li>
<li><cite>tx.origin</cite> (<cite>address</cite>): sender of the transaction (full call chain)</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The values of all members of <cite>msg</cite>, including <cite>msg.sender</cite> and
<cite>msg.value</cite> can change for every <strong>external</strong> function call.
This includes calls to library functions.</p>
<p class="last">If you want to implement access restrictions in library functions using
<cite>msg.sender</cite>, you have to manually supply the value of
<cite>sg.sender</cite> as an argument.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The block hashes are not available for all blocks for scalability reasons.
You can only access the hashes of the most recent 256 blocks, all other
values will be zero.</p>
</div>
</div>
<div class="section" id="mathematical-and-cryptographic-functions">
<span id="index-3"></span><h3>Mathematical and Cryptographic Functions<a class="headerlink" href="#mathematical-and-cryptographic-functions" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><cite>addmod(uint x, uint y, uint k) returns (uint)</cite>:</dt>
<dd>compute <cite>(x + y) % k</cite> where the addition is performed with arbitrary precision and does not wrap around at <cite>2**256</cite>.</dd>
<dt><cite>mulmod(uint x, uint y, uint k) returns (uint)</cite>:</dt>
<dd>compute <cite>(x * y) % k</cite> where the multiplication is performed with arbitrary precision and does not wrap around at <cite>2**256</cite>.</dd>
<dt><cite>sha3(...) returns (bytes32)</cite>:</dt>
<dd>compute the Ethereum-SHA-3 hash of the (tightly packed) arguments</dd>
<dt><cite>sha256(...) returns (bytes32)</cite>:</dt>
<dd>compute the SHA-256 hash of the (tightly packed) arguments</dd>
<dt><cite>ripemd160(...) returns (bytes20)</cite>:</dt>
<dd>compute RIPEMD-160 hash of the (tightly packed) arguments</dd>
<dt><cite>ecrecover(bytes32, byte, bytes32, bytes32) returns (address)</cite>:</dt>
<dd>recover public key from elliptic curve signature - arguments are (data, v, r, s)</dd>
</dl>
<p>In the above, &#8220;tightly packed&#8221; means that the arguments are concatenated without padding.
This means that the following are all identical:</p>
<div class="highlight-Solidity"><div class="highlight"><pre><span class="nx">sha3</span><span class="p">(</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="nx">sha3</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>
<span class="nx">sha3</span><span class="p">(</span><span class="mh">0x616263</span><span class="p">)</span>
<span class="nx">sha3</span><span class="p">(</span><span class="mi">6382179</span><span class="p">)</span>
<span class="nx">sha3</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span>
</pre></div>
</div>
<p>If padding is needed, explicit type conversions can be used: <cite>sha3(&#8220;x00x12&#8221;)</cite> is the
same as <cite>sha3(uint16(0x12))</cite>.</p>
<p>It might be that you run into Out-of-Gas for <cite>sha256</cite>, <cite>ripemd160</cite> or <cite>ecrecover</cite> on a <em>private blockchain</em>. The reason for this is that those are implemented as so-called precompiled contracts and these contracts only really exist after they received the first message (although their contract code is hardcoded). Messages to non-existing contracts are more expensive and thus the execution runs into an Out-of-Gas error. A workaround for this problem is to first send e.g. 1 Wei to each of the contracts before you use them in your actual contracts. This is not an issue on the official or test net.</p>
</div>
<div class="section" id="contract-related">
<span id="index-4"></span><h3>Contract Related<a class="headerlink" href="#contract-related" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><cite>this</cite> (current contract&#8217;s type):</dt>
<dd>the current contract, explicitly convertible to <cite>address</cite></dd>
<dt><cite>selfdestruct(address)</cite>:</dt>
<dd>destroy the current contract, sending its funds to the given address</dd>
</dl>
<p>Furthermore, all functions of the current contract are callable directly including the current function.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Units and Globally Available Variables</a><ul>
<li><a class="reference internal" href="#ether-units">Ether Units</a></li>
<li><a class="reference internal" href="#time-units">Time Units</a></li>
<li><a class="reference internal" href="#special-variables-and-functions">Special Variables and Functions</a><ul>
<li><a class="reference internal" href="#block-and-transaction-properties">Block and Transaction Properties</a></li>
<li><a class="reference internal" href="#mathematical-and-cryptographic-functions">Mathematical and Cryptographic Functions</a></li>
<li><a class="reference internal" href="#contract-related">Contract Related</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="types.html"
                        title="previous chapter">Types</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="control-structures.html"
                        title="next chapter">Expressions and Control Structures</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/units-and-global-variables.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="control-structures.html" title="Expressions and Control Structures"
             >next</a> |</li>
        <li class="right" >
          <a href="types.html" title="Types"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Solidity 0.2.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="solidity-in-depth.html" >Solidity in Depth</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Ethereum.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>